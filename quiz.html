<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studiu Dreptul Afacerilor</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        serif: ['"Merriweather"', 'serif'],
                        sans: ['"Inter"', 'sans-serif'],
                    },
                    colors: {
                        'legal-dark': '#1a1a1a',
                        'legal-gold': '#c5a059',
                        'legal-paper': '#f9f8f4',
                        'legal-gray': '#4a4a4a',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #f0f0ed;
            background-image: radial-gradient(#d1d1cf 1px, transparent 1px);
            background-size: 20px 20px;
        }
        html.dark body {
            background-color: #0f0f0f;
            background-image: radial-gradient(#2a2a2a 1px, transparent 1px);
            background-size: 20px 20px;
        }
        .btn-option {
            transition: all 0.2s ease-in-out;
        }
        .btn-option:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .fade-in {
            animation: fadeIn 0.4s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="text-legal-dark dark:text-gray-100 min-h-screen flex flex-col items-center py-8 px-4 font-sans">

    <header class="text-center mb-10 mt-4">
        <div class="inline-flex items-center justify-center p-3 mb-4 bg-legal-dark text-legal-gold rounded-sm shadow-md dark:bg-gray-100 dark:text-legal-dark">
            <i data-lucide="scale" class="w-8 h-8"></i>
        </div>
        <h1 class="text-3xl md:text-4xl font-serif font-bold text-legal-dark dark:text-gray-100 tracking-tight mb-2">
            Dreptul Afacerilor
        </h1>
        <div class="h-1 w-24 bg-legal-gold mx-auto rounded-full"></div>
        <p class="text-legal-gray dark:text-gray-400 mt-3 text-sm font-medium uppercase tracking-widest">
            Sesiune de Evaluare
        </p>
    </header>

    <div class="w-full max-w-3xl bg-white dark:bg-[#121212] shadow-2xl border-t-4 border-legal-dark dark:border-gray-700 rounded-2xl overflow-hidden relative min-h-[500px] flex flex-col">
        
        <div class="w-full bg-gray-200 dark:bg-gray-800 h-1">
            <div id="progress-bar" class="bg-legal-gold h-1 transition-all duration-300" style="width: 0%"></div>
        </div>

        <div class="px-6 py-4 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center bg-white dark:bg-[#121212] rounded-t-2xl">
            <span id="question-counter" class="font-serif text-legal-gray dark:text-gray-400 italic text-sm">
                Întrebarea 1 din 30
            </span>
            <div class="flex items-center gap-3">
                <button id="shuffle-btn" class="flex items-center gap-2 text-xs font-bold uppercase tracking-wide text-legal-gray dark:text-gray-400 hover:text-legal-gold transition-colors">
                    <i data-lucide="shuffle" class="w-4 h-4"></i> Amestecă
                </button>
                <button id="theme-toggle" class="flex items-center gap-2 text-xs font-bold uppercase tracking-wide text-legal-gray dark:text-gray-400 hover:text-legal-gold transition-colors">
                    <i data-lucide="moon" class="w-4 h-4"></i> Mod Întunecat
                </button>
            </div>
        </div>

        <div id="quiz-container" class="p-8 md:p-10 flex-grow flex flex-col justify-center fade-in">
            <h2 id="question-text" class="text-xl md:text-2xl font-serif font-medium leading-relaxed text-legal-dark dark:text-gray-100 mb-10">
                Se încarcă întrebarea...
            </h2>

            <div id="options-container" class="grid gap-4 w-full">
                </div>
        </div>

        <div class="bg-legal-paper dark:bg-[#0f0f0f] px-8 py-6 border-t border-gray-200 dark:border-gray-800 flex justify-between items-center rounded-b-2xl">
            <button id="prev-btn" class="flex items-center gap-2 px-4 py-2 text-sm font-medium text-legal-gray dark:text-gray-400 hover:text-legal-dark dark:hover:text-gray-100 disabled:opacity-30 disabled:cursor-not-allowed transition-colors rounded-lg">
                <i data-lucide="arrow-left" class="w-4 h-4"></i> Anterior
            </button>
            
            <button id="next-btn" class="flex items-center gap-2 px-6 py-2 bg-legal-dark dark:bg-gray-100 text-white dark:text-legal-dark text-sm font-medium rounded-lg shadow hover:bg-black dark:hover:bg-white disabled:opacity-50 transition-all">
                Următoarea <i data-lucide="arrow-right" class="w-4 h-4"></i>
            </button>
        </div>
    </div>

    <footer class="mt-8 text-center text-xs text-gray-400 dark:text-gray-500 font-serif">
        <p>Selectează varianta corectă. Răspunsul va fi validat automat.</p>
    </footer>

    <script>
        // Data Set (Questions & Answers mapped from your input)
        // Correct Index: 0 = A, 1 = B, 2 = C
        const questionsData = [
            {
                id: 1,
                q: "Elementele raportului juridic civil sunt următoarele:",
                options: [
                    "Părțile, conținutul și obiectul.",
                    "Părțile, termenul și cauza.",
                    "Drepturile subiective civile și obligațiile civile pe care le au părțile raportului respectiv."
                ],
                correct: 0 // Key: 1. A
            },
            {
                id: 2,
                q: "Copilului îi pot fi recunoscute drepturi:",
                options: [
                    "Numai începând cu data nașterii.",
                    "Chiar de la concepție, însă numai dacă se naște viu.",
                    "Chiar de la concepție, chiar dacă datorită unor împrejurări nu se mai naște viu."
                ],
                correct: 2 // Key: 2. C
            },
            {
                id: 3,
                q: "Raportul juridic civil este:",
                options: [
                    "O relație economică fără reglementare juridică.",
                    "O relație socială reglementată de normele dreptului civil.",
                    "O relație politică între stat și cetățeni."
                ],
                correct: 1 // Key: 3. B
            },
            {
                id: 4,
                q: "Subiectele raportului juridic civil sunt:",
                options: [
                    "Doar persoanele fizice.",
                    "Doar persoanele juridice.",
                    "Persoanele fizice și persoanele juridice."
                ],
                correct: 2 // Key: 4. C
            },
            {
                id: 5,
                q: "Fac parte din categoria viciilor de consimțământ:",
                options: [
                    "Leziunea.",
                    "Cauza ilicită.",
                    "Lipsa discernământului."
                ],
                correct: 2 // Key: 5. C (Conform cheii tale, deși în doctrină Leziunea e viciu, respectăm cheia)
            },
            {
                id: 6,
                q: "Spre deosebire de actul juridic unilateral, contractul unilateral:",
                options: [
                    "este rezultatul voinței unei singure părți.",
                    "nu poate fi revocat de părți.",
                    "reprezintă acordul de voințe a două părți."
                ],
                correct: 0 // Key: 6. A
            },
            {
                id: 7,
                q: "Care din următoarele principii stau la baza organizării instituțiilor judiciare si a justiției?",
                options: [
                    "Principiul egalitatii in fata legii, principiul separatiei, principiul ocrotirii.",
                    "Principiul separatiei, principiul ierarhiei jurisdictiilor.",
                    "Principiul separatiei, principiul ierarhiei jurisdictiilor, principiul independentei si al impartialitatii."
                ],
                correct: 2 // Key: 7. C
            },
            {
                id: 8,
                q: "Dolul constă în:",
                options: [
                    "Folosirea forței fizice.",
                    "Inducerea în eroare cu intenție.",
                    "O reprezentare greșită a realității fără intenție."
                ],
                correct: 1 // Key: 8. B
            },
            {
                id: 9,
                q: "Violența ca viciu de consimțământ presupune:",
                options: [
                    "O simplă neînțelegere.",
                    "Amenințarea sau constrângerea unei persoane.",
                    "Lipsa formei scrise."
                ],
                correct: 1 // Key: 9. B
            },
            {
                id: 10,
                q: "Răspunderea juridică reprezintă:",
                options: [
                    "Obligația de a respecta normele morale.",
                    "Obligația de a suporta consecințele juridice ale încălcării unei norme de drept.",
                    "Capacitatea de a avea drepturi și obligații."
                ],
                correct: 1 // Key: 10. B
            },
            {
                id: 11,
                q: "Vinovăția presupune:",
                options: [
                    "Existența unui prejudiciu material.",
                    "Legătura dintre faptă și prejudiciu.",
                    "Atitudinea psihică a autorului față de faptă și urmările acesteia."
                ],
                correct: 2 // Key: 11. C
            },
            {
                id: 12,
                q: "Răspunderea juridică civilă delictuală intervine atunci când:",
                options: [
                    "Este încălcată o obligație din contract.",
                    "Este cauzat un prejudiciu printr-o faptă ilicită săvârșită în afara unui contract.",
                    "Este mereu când sa săvârșit o contravenție."
                ],
                correct: 1 // Key: 12. B
            },
            {
                id: 13,
                q: "Ca regulă generală, dacă la momentul încheierii unui contract debitorul este în imposibilitate de a-și executa obligația, contractul este:",
                options: [
                    "Nul absolut.",
                    "Valabil.",
                    "Lovit de nulitate relativă."
                ],
                correct: 1 // Key: 13. B
            },
            {
                id: 14,
                q: "Actul juridic civil este solemn:",
                options: [
                    "numai dacă este încheiat în formă autentică.",
                    "când pentru validitatea sa este necesară prezența părților.",
                    "chiar dacă nu este încheiat în formă autentică."
                ],
                correct: 2 // Key: 14. C
            },
            {
                id: 15,
                q: "Consimțământul, ca element al actului juridic civil, reprezintă:",
                options: [
                    "Capacitatea persoanei de a avea drepturi.",
                    "Manifestarea de voință a părților de a încheia un act juridic.",
                    "Obiectul actului juridic."
                ],
                correct: 1 // Key: 15. B
            },
            {
                id: 16,
                q: "Forma actului juridic civil este guvernată, de regulă, de principiul:",
                options: [
                    "Forței obligatorii.",
                    "Oficialității.",
                    "Consensualismului."
                ],
                correct: 2 // Key: 16. C
            },
            {
                id: 17,
                q: "Pentru a fi valabil consimțământul trebuie:",
                options: [
                    "să fie exprimat în cunoștință de cauză, adică persoana să aibă capacitate.",
                    "să provină de la o persoană care are capacitate de folosință deplină.",
                    "să fie dat în scris."
                ],
                correct: 0 // Key: 17. A
            },
            {
                id: 18,
                q: "Obligația este afectată de termen atunci când:",
                options: [
                    "Transformarea ei depinde de un eveniment nesigur.",
                    "Eficacitatea ei depinde de un eveniment viitor și nesigur.",
                    "Executarea ei depinde de un eveniment viitor și sigur."
                ],
                correct: 2 // Key: 18. C
            },
            {
                id: 19,
                q: "Care din următoarele caracteristici este specifica normei juridice:",
                options: [
                    "are un caracter general si impersonal si implica un raport inter subiectiv, fiind obligatorie.",
                    "se adresează unei persoane individualizate.",
                    "este abstracta."
                ],
                correct: 0 // Key: 19. A
            },
            {
                id: 20,
                q: "Potrivit Codului civil, sunt considerați profesioniști:",
                options: [
                    "Doar comercianții persoane fizice.",
                    "Persoanele care exploatează o întreprindere, indiferent dacă au sau nu scop lucrativ.",
                    "Numai persoanele juridice de drept privat."
                ],
                correct: 1 // Key: 20. B
            },
            {
                id: 21,
                q: "Calitatea de profesionist este determinată de:",
                options: [
                    "Scopul lucrativ al activității.",
                    "Natura civilă sau comercială a actelor.",
                    "Desfășurarea unei activități organizate în mod sistematic."
                ],
                correct: 2 // Key: 21. C
            },
            {
                id: 22,
                q: "Raportul juridic civil:",
                options: [
                    "Reprezintă manifestarea de voință făcută cu intenția de a produce efecte juridice.",
                    "Reprezintă relația socială, patrimonială sau nepatrimonială, reglementată de norma de drept civil.",
                    "Are întotdeauna caracter dublu volițional."
                ],
                correct: 1 // Key: 22. B
            },
            {
                id: 23,
                q: "Contractul de schimb este un:",
                options: [
                    "contract comutativ.",
                    "contract aleatoriu.",
                    "contract dezinteresat."
                ],
                correct: 0 // Key: 23. A
            },
            {
                id: 24,
                q: "În funcție de natura conținutului lor, drepturile subiective civile se împart în:",
                options: [
                    "Absolute și relative.",
                    "Principale și accesorii.",
                    "Patrimoniale și nepatrimoniale."
                ],
                correct: 2 // Key: 24. C
            },
            {
                id: 25,
                q: "Sunt prezumate că au discernământul necesar pentru a încheia acte juridice civile:",
                options: [
                    "Personele fizice cu capacitate deplină de exercițiu.",
                    "Personele fizice cu vârsta între 14 și 18 ani.",
                    "Persoanele fizice cu vârsta sub 14 ani."
                ],
                correct: 0 // Key: 25. A
            },
            {
                id: 26,
                q: "Pentru a fi valabil, obiectul oricărui act juridic civil trebuie să îndeplinească următoarea cerință generală:",
                options: [
                    "să fie real.",
                    "să fie determinat sau determinabil.",
                    "să existe autorizaţia administrativă sau judiciară cerută de lege."
                ],
                correct: 1 // Key: 26. B
            },
            {
                id: 27,
                q: "Drepturile și libertățile fundamentale ale cetățenilor sunt garantate de:",
                options: [
                    "Codul civil.",
                    "Constituție.",
                    "Codul penal."
                ],
                correct: 1 // Key: 27. B
            },
            {
                id: 28,
                q: "În cazurile neprevăzute de lege, izvoarele de drept civil se aplică în următoarea ordine de prioriate:",
                options: [
                    "Dispozițiile legale privitoare la situații asemănătoare, uzanțele, principiile generale ale dreptului.",
                    "Obiceiul, dispozițiile legale privitoare la situații asemănătoare, principiile generale ale dreptului.",
                    "Principiile generale ale dreptului, dispozițiile legale privitoare la situații asemănătoare, uzuri profesionale."
                ],
                correct: 1 // Key: 28. B
            },
            {
                id: 29,
                q: "Minorul de 14 ani:",
                options: [
                    "Nu poate dispunde prin testament.",
                    "Nu poate dispunde prin testament decât de jumătate din bunurile de care ar fi putut dispune dacă ar fi fost major.",
                    "Poate dispune prin testament numai în favoarea părinților săi."
                ],
                correct: 0 // Key: 29. A
            },
            {
                id: 30,
                q: "Sunt condiții esențiale ale actului juridic civil:",
                options: [
                    "capacitatea de a încheia actul juridic, consimțământul, un obiect determinat, o cauză licită.",
                    "părțile, conținutul şi obiectul.",
                    "consimțământul, obiectul şi cauza."
                ],
                correct: 0 // Key: 30. A
            }
        ];

        // State variables
        let currentQuestions = [...questionsData];
        let currentIndex = 0;
        let answered = false;

        // DOM Elements
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const counterText = document.getElementById('question-counter');
        const progressBar = document.getElementById('progress-bar');
        const quizContainer = document.getElementById('quiz-container');
        
        const nextBtn = document.getElementById('next-btn');
        const prevBtn = document.getElementById('prev-btn');
        const shuffleBtn = document.getElementById('shuffle-btn');
        const themeToggle = document.getElementById('theme-toggle');

        // Functions
        function renderQuestion() {
            // Trigger animation
            quizContainer.classList.remove('fade-in');
            void quizContainer.offsetWidth; // trigger reflow
            quizContainer.classList.add('fade-in');

            const q = currentQuestions[currentIndex];
            
            // Update Text
            questionText.innerText = q.q;
            counterText.innerText = `Întrebarea ${currentIndex + 1} din ${currentQuestions.length}`;
            
            // Update Progress
            const progress = ((currentIndex + 1) / currentQuestions.length) * 100;
            progressBar.style.width = `${progress}%`;

            // Reset Options
            optionsContainer.innerHTML = '';
            answered = false;

            // Generate Buttons
            q.options.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.className = `btn-option w-full text-left p-4 md:p-5 rounded-xl border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-[#1a1a1a] text-legal-dark dark:text-gray-100 font-sans text-sm md:text-base leading-snug hover:bg-white dark:hover:bg-[#222] hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-200`;
                btn.innerText = opt;
                btn.onclick = () => handleAnswer(index, btn);
                optionsContainer.appendChild(btn);
            });

            // Update Nav Buttons
            prevBtn.disabled = currentIndex === 0;
            // Only disable next if not at the end, but technically user can skip if we want. 
            // Let's keep next enabled to allow browsing, or disabled until answered? 
            // Classic behavior: allow browsing.
        }

        function handleAnswer(selectedIndex, btnElement) {
            if (answered) return;
            answered = true;

            const q = currentQuestions[currentIndex];
            const allBtns = optionsContainer.children;

            if (selectedIndex === q.correct) {
                // Correct
                applyClass(btnElement, 'bg-green-100', 'border-green-600', 'text-green-900');
                const icon = document.createElement('span');
                icon.innerHTML = ' <i data-lucide="check-circle" class="inline w-4 h-4 text-green-700 ml-2"></i>';
                btnElement.appendChild(icon);
            } else {
                // Incorrect
                applyClass(btnElement, 'bg-red-50', 'border-red-400', 'text-red-900');
                const icon = document.createElement('span');
                icon.innerHTML = ' <i data-lucide="x-circle" class="inline w-4 h-4 text-red-600 ml-2"></i>';
                btnElement.appendChild(icon);

                // Highlight Correct
                const correctBtn = allBtns[q.correct];
                applyClass(correctBtn, 'bg-green-50', 'border-green-600', 'text-green-900');
                const correctIcon = document.createElement('span');
                correctIcon.innerHTML = ' <i data-lucide="check-circle" class="inline w-4 h-4 text-green-700 ml-2"></i>';
                correctBtn.appendChild(correctIcon);
            }

            // Disable all buttons to prevent double answers
            for (let btn of allBtns) {
                btn.disabled = true;
                btn.classList.add('cursor-default');
            }
            
            lucide.createIcons();
        }

        function applyClass(el, bg, border, text) {
            el.classList.remove('bg-gray-50', 'border-gray-300', 'text-legal-dark', 'hover:bg-white', 'hover:border-gray-400');
            el.classList.add(bg, border, text);
        }

        function setTheme(isDark) {
            document.documentElement.classList.toggle('dark', isDark);
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            if (themeToggle) {
                themeToggle.innerHTML = isDark
                    ? '<i data-lucide="sun" class="w-4 h-4"></i> Mod Luminos'
                    : '<i data-lucide="moon" class="w-4 h-4"></i> Mod Întunecat';
            }
            lucide.createIcons();
        }

        function goToIndex(newIndex) {
            if (newIndex < 0 || newIndex >= currentQuestions.length) return;
            currentIndex = newIndex;
            renderQuestion();
        }

        nextBtn.addEventListener('click', () => {
            if (currentIndex < currentQuestions.length - 1) {
                goToIndex(currentIndex + 1);
            }
        });

        prevBtn.addEventListener('click', () => {
            if (currentIndex > 0) {
                goToIndex(currentIndex - 1);
            }
        });

        shuffleBtn.addEventListener('click', () => {
            currentQuestions = [...questionsData].sort(() => Math.random() - 0.5);
            currentIndex = 0;
            renderQuestion();
        });

        themeToggle.addEventListener('click', () => {
            const isDark = !document.documentElement.classList.contains('dark');
            setTheme(isDark);
        });

        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            setTheme(savedTheme ? savedTheme === 'dark' : prefersDark);
            renderQuestion();
            lucide.createIcons();
        });
    </script>
</body>
</html>